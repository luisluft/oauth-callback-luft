<!DOCTYPE html>
<html>
<head>
    <title>Callback Page</title>
</head>
<body>
    <h1>Callback Page</h1>
    <p>Processing...</p>
    <script>
        // Função para extrair parâmetros da URL
        function getQueryParams() {
            const params = {};
            const queryString = window.location.search.substring(1);
            const queryArray = queryString.split("&");
            for (const pair of queryArray) {
                const [key, value] = pair.split("=");
                params[key] = decodeURIComponent(value);
            }
            return params;
        }

        // Extrair o código de autorização da URL
        const queryParams = getQueryParams();
        const authCode = queryParams['code'];

        if (authCode) {
            // Exibir o código para depuração (em um ambiente de produção, você pode enviar isso para o servidor)
            document.body.innerHTML = `<h1>Authorization Code: ${authCode}</h1>`;
            // Aqui você pode adicionar código para enviar o código de autorização para seu servidor
        } else {
            document.body.innerHTML = "<h1>No authorization code found</h1>";
        }
    </script>
</body>
</html>
